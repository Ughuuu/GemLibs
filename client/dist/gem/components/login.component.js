"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},__decorate=function(e,t,o,r){var n,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(i=(a<3?n(i):a>3?n(t,o,i):n(t,o))||i);return a>3&&i&&Object.defineProperty(t,o,i),i},__metadata=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(exports,"__esModule",{value:!0});var login_constants_1=require("../constants/login.constants"),core_1=require("@angular/core"),material_1=require("@angular/material"),forms_1=require("@angular/forms"),http_1=require("@angular/http"),router_1=require("@angular/router"),LoginComponent=function(){function e(t,o,r,n){_classCallCheck(this,e),this.router=t,this.http=o,this.dialog=r,this.fb=n,this.loginUrl="/login",this.form=this.fb.group({username:["",forms_1.Validators.required],password:["",forms_1.Validators.required]}),this.userPlaceholder=login_constants_1.LoginConstants.userPlacehoder,this.passwordPlaceholder=login_constants_1.LoginConstants.passwordPlaceholder}return _createClass(e,[{key:"doSubmit",value:function(){var e=this,t=new http_1.Headers({"Content-Type":"application/json"}),o=new http_1.RequestOptions({headers:t});this.http.post(this.loginUrl,JSON.stringify(this.form.value),o).subscribe(function(t){e.messages=JSON.parse(t.text()),"Success"==e.messages[0]&&(e.dialog.closeAll(),e.router.navigateByUrl("/home"))})}}]),e}();LoginComponent=__decorate([core_1.Component({selector:"login",templateUrl:"gem/templates/login.html"}),__metadata("design:paramtypes",[router_1.Router,http_1.Http,material_1.MdDialog,forms_1.FormBuilder])],LoginComponent),exports.LoginComponent=LoginComponent;