"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},__decorate=function(e,t,n,o){var r,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(s<3?r(a):s>3?r(t,n,a):r(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a},__metadata=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},signup_constants_1=require("../constants/signup.constants"),core_1=require("@angular/core"),material_1=require("@angular/material"),forms_1=require("@angular/forms"),login_component_1=require("./login.component"),http_1=require("@angular/http"),SignUpComponent=function(){function e(t,n,o){_classCallCheck(this,e),this.http=t,this.dialog=n,this.fb=o,this.signupUrl="/signup",this.form=this.fb.group({username:["",forms_1.Validators.required],password:["",forms_1.Validators.required],email:["",forms_1.Validators.required]}),this.emailPlaceholder=signup_constants_1.SignupConstants.emailPlacehoder,this.userPlaceholder=signup_constants_1.SignupConstants.userPlacehoder,this.passwordPlaceholder=signup_constants_1.SignupConstants.passwordPlaceholder}return _createClass(e,[{key:"doSubmit",value:function(){var e=this,t=new http_1.Headers({"Content-Type":"application/json"}),n=new http_1.RequestOptions({headers:t});this.http.post(this.signupUrl,JSON.stringify(this.form.value),n).subscribe(function(t){e.messages=JSON.parse(t.text()),"Success"==e.messages[0]&&(e.dialog.closeAll(),e.dialog.open(login_component_1.LoginComponent))})}}]),e}();SignUpComponent=__decorate([core_1.Component({selector:"signup",templateUrl:"gem/templates/signup.html",entryComponents:[login_component_1.LoginComponent]}),__metadata("design:paramtypes",[http_1.Http,material_1.MdDialog,forms_1.FormBuilder])],SignUpComponent),exports.SignUpComponent=SignUpComponent;